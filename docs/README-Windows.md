# Go Proxy Server - Windows 版本

## 快速开始

### 正常使用

1. **双击 `go-proxy-server.exe`**
   - 程序会自动启动并最小化到系统托盘（任务栏右下角）
   - 托盘图标显示为绿色圆点
   - 右键点击图标，选择"打开管理界面"

2. **在浏览器中管理**
   - 程序会自动打开浏览器，访问 http://localhost:9090
   - 或手动在浏览器输入：http://localhost:9090

3. **退出程序**
   - 右键点击托盘图标，选择"退出"

### 调试模式（如果遇到问题）

如果双击后没有反应：

1. **运行调试版本**
   - 双击 `run-debug.bat`
   - 会显示控制台窗口和详细的启动信息

2. **查看日志**
   - 双击 `view-log.bat`
   - 会自动打开日志文件

3. **日志文件位置**
   ```
   %APPDATA%\go-proxy-server\app.log
   ```
   完整路径示例：
   ```
   C:\Users\你的用户名\AppData\Roaming\go-proxy-server\app.log
   ```

## 文件说明

- `go-proxy-server.exe` - 主程序（隐藏控制台）
- `go-proxy-server-gui.exe` - 系统托盘版本
- `run-debug.bat` - 快速运行调试版本
- `view-log.bat` - 快速打开日志文件
- `README-Windows.md` - 本文件

## 功能特性

- ✅ 系统托盘运行，不占用任务栏
- ✅ 支持 SOCKS5 和 HTTP/HTTPS 代理
- ✅ Web 管理界面
- ✅ 用户名/密码认证
- ✅ IP 白名单
- ✅ 数据库存储用户信息

## 常见问题

### 1. 看不到托盘图标

检查任务栏右下角，点击 "^" 图标展开隐藏的托盘图标。

### 2. 端口 9090 被占用

运行命令：
```
go-proxy-server.exe web -port 8888
```

或在命令提示符中检查占用情况：
```
netstat -ano | findstr :9090
```

### 3. 防火墙提示

首次运行时，Windows 防火墙可能会弹出提示，请点击"允许访问"。

### 4. 程序闪退

1. 运行 `run-debug.bat` 查看错误信息
2. 查看日志文件：`view-log.bat`

## 使用代理

### SOCKS5 代理

在管理界面中启动 SOCKS5 代理后，可以在应用程序中配置：

```
代理类型: SOCKS5
服务器: 127.0.0.1
端口: 1080
用户名: (在管理界面添加的用户名)
密码: (对应的密码)
```

### HTTP 代理

在管理界面中启动 HTTP 代理后，可以在应用程序中配置：

```
代理类型: HTTP
服务器: 127.0.0.1
端口: 8080
用户名: (在管理界面添加的用户名)
密码: (对应的密码)
```

## 数据存储位置

所有数据文件存储在：
```
%APPDATA%\go-proxy-server\
```

包括：
- `data.db` - SQLite数据库（用户、白名单、代理配置）
- `app.log` - 日志文件

## 技术支持

如有问题，请查看完整文档或提交 Issue。
